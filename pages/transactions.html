<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transactions - Investment Tracker</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Include Supabase JS from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // Initialize Supabase client with environment variables
    const supabaseUrl = 'https://nnxwuurlwhyalpogqgfs.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5ueHd1dXJsd2h5YWxwb2dxZ2ZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwODg5MTUsImV4cCI6MjA1ODY2NDkxNX0.qRlqZ3TBRyYKA6ZqH5tjKEH-VMaMIT16Zve3BKvf8j0';
    window.supabase = supabaseClient.createClient(supabaseUrl, supabaseKey);
  </script>
</head>
<body>
  <header>
    <h1>Investment Tracker</h1>
    <div class="user-info">
      Welcome, <span id="user-name">User</span>
    </div>
    <nav>
      <!-- Navigation will be populated by JavaScript -->
    </nav>
  </header>
  
  <main>
    <h2>Transactions</h2>
    
    <section class="transaction-form-section">
      <div class="card">
        <h3>Add New Transaction</h3>
        <form id="transaction-form">
          <div class="form-row">
            <div class="form-group">
              <label for="asset-select">Asset</label>
              <select id="asset-select" required>
                <option value="">Select Asset</option>
                <!-- Assets will be populated by JavaScript -->
              </select>
            </div>
            <div class="form-group">
              <label for="transaction-type">Type</label>
              <select id="transaction-type" required>
                <option value="">Select Type</option>
                <option value="BUY">Buy</option>
                <option value="SELL">Sell</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="quantity">Quantity</label>
              <input type="number" id="quantity" min="1" required>
            </div>
            <div class="form-group">
              <label for="price">Price</label>
              <input type="number" id="price" step="0.01" min="0.01" required>
            </div>
            <div class="form-group">
              <label for="transaction-date">Date</label>
              <input type="date" id="transaction-date" required>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Add Transaction</button>
        </form>
      </div>
    </section>
    
    <section class="transactions-list-section">
      <div class="card">
        <h3>Transaction History</h3>
        
        <div class="filters">
          <form id="filter-form">
            <div class="form-row">
              <div class="form-group">
                <label for="filter-asset">Asset</label>
                <select id="filter-asset">
                  <option value="">All Assets</option>
                  <!-- Assets will be populated by JavaScript -->
                </select>
              </div>
              <div class="form-group">
                <label for="filter-type">Type</label>
                <select id="filter-type">
                  <option value="">All Types</option>
                  <option value="BUY">Buy</option>
                  <option value="SELL">Sell</option>
                </select>
              </div>
              <div class="form-group">
                <label for="filter-start-date">From</label>
                <input type="date" id="filter-start-date">
              </div>
              <div class="form-group">
                <label for="filter-end-date">To</label>
                <input type="date" id="filter-end-date">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-sm">Filter</button>
                <button type="button" id="reset-filters" class="btn btn-sm btn-secondary">Reset</button>
              </div>
            </div>
          </form>
        </div>
        
        <table id="transactions-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Asset</th>
              <th>Type</th>
              <th>Quantity</th>
              <th>Price</th>
              <th>Total</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="transactions-body">
            <!-- Transactions will be populated by JavaScript -->
            <tr>
              <td colspan="7" class="text-center">Loading transactions...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>
  
  <footer>
    <p>&copy; 2023 Investment Tracker</p>
  </footer>
  
  <!-- Include your JavaScript files -->
  <script src="app.js"></script>
  <script src="transactions.js"></script>
  <script src="darkMode.js"></script>
</body>
</html>

